worker_processes 1;

events { worker_connections 1024; }

http {

    resolver 127.0.0.11;

    upstream backend {
            server eureka-client:80;
     }
    server {
        root /www/data;

        location /api {
            proxy_pass_request_headers      on;
            proxy_pass http://backend/api;
        }

        location /dist {
            root /www/data/vue/dist;
        }

        location / {
            index /www/data/vue/dist/index.html;
        }
    }

}